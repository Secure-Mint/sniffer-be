generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator tsed {
  provider = "tsed-prisma"
}

// These are all info fields inside Token model
//
// daily_volume       Float?    
// decimals           Int       
// minted_at          DateTime?
// permanent_delegate String?   
// coingecko_id String?   

model Token {
  id          String    @unique @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  address     String    @unique @db.VarChar
  logo_uri    String?   @db.VarChar
  name        String    @db.VarChar
  symbol      String    @db.VarChar
  tags        String[]  @default([])
  metadata    Json      @default("{}")
  info        Json      @default("{}")
  created_at  DateTime  @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @updatedAt @db.Timestamp(6)
  deleted_at  DateTime? @db.Timestamp(6)
  platform_id String    @db.VarChar

  @@index([tags], type: Gin)
  @@index([created_at(sort: Desc)])
  @@index([updated_at(sort: Desc)])
  @@map("token")
}
